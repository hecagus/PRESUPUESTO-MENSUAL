<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultados – Uber Eats Tracker</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

<header class="header">
    <h1>Panel de Resultados</h1>
    <a href="admin.html" class="btn-admin" id="adminButton">⚙ Ir al Administrador</a>
</header>

<main class="container">

    <section class="card" id="cardResumen"> 
        <h2>Resumen del Día (Hoy)</h2>
        <div class="stats-grid">
            <div class="stat">
                <label>Horas</label>
                <span id="resHoras">0</span>
            </div>
            <div class="stat">
                <label>Ganancia Bruta</label>
                <span id="resGananciaBruta">$0.00</span>
            </div>
            <div class="stat">
                <label>Gastos</label>
                <span id="resGastos">$0.00</span>
            </div>
            <div class="stat">
                <label>Neta</label>
                <span id="resNeta">$0.00</span>
            </div>
        </div>
    </section>
    
    <section class="card">
        <h2>Proyección Real</h2>
        <p>Basado en tus promedios y deudas.</p>
        <div class="projection"><label>Deuda total:</label> <span id="proyDeuda">$0</span></div>
        <div class="projection"><label>Neta diaria prom:</label> <span id="proyNeta">$0</span></div>
        <div class="projection"><label>Tiempo libre de deudas:</label> <span id="proyDias">Calculando...</span></div>
    </section>

    <section class="card">
        <h2>Rendimiento del Vehículo (Acumulado)</h2>
        <p>Promedios calculados desde el primer registro.</p>
        <div class="projection"><label>Costo Gasolina / KM:</label> <span id="proyCostoGasKm">$0.0000</span></div>
        <div class="projection"><label>Costo Mantenimiento / KM:</label> <span id="proyCostoMantKm">$0.0000</span></div>
        <div class="projection"><label>Costo Operativo Total / KM:</label> <span id="proyCostoTotalKm">$0.0000</span></div>
    </section>
    <section class="card">
        <h2>Últimos Turnos</h2>
        <table class="tabla">
            <thead>
            <tr>
                <th>Fecha</th>
                <th>Horas</th>
                <th>Ganancia</th>
            </tr>
            </thead>
            <tbody id="tablaTurnos"></tbody>
        </table>
    </section>
    
    <section class="card">
        <h2>Control Gasolina / KM (Histórico Mensual)</h2>
        <div id="tablaKmMensual"></div>
    </section>

    <section class="card">
        <h2>Balance (14 días)</h2>
        <canvas id="graficaGanancias"></canvas>
    </section>

    <section class="card">
        <h2>Rendimiento KM</h2>
        <canvas id="graficaKm"></canvas>
    </section>

</main>

<div id="tutorialOverlay"></div>
<div id="tutorialModal" class="modal-center">
    <h3 id="tutorialTitle">Bienvenido</h3>
    <p id="tutorialText">Iniciando...</p>
    <button id="tutorialNextBtn" class="btn-primary" style="width:100%; margin-top:10px;">Siguiente</button>
</div>

<script src="app.js"></script>
</body>
</html>
