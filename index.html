<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Presupuesto Mensual</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>Presupuesto Mensual</h1>
<a href="#" onclick="showSection('resumen')">Resumen</a> |
<a href="#" onclick="showSection('admin')">Admin</a>

<!-- ===================== RESUMEN ====================== -->
<div id="resumen" class="section">

    <h2>Total ingresos</h2>
    <p id="total-ingresos">$0.00</p>

    <h2>Total gastos</h2>
    <p id="total-gastos">$0.00</p>

    <h2>Balance</h2>
    <p id="balance">$0.00</p>

    <h2>Movimientos recientes</h2>
    <table id="tabla-recientes"></table>

    <h2>Gastos por categoría</h2>
    <canvas id="grafica-categorias"></canvas>

    <h2>Balance por mes</h2>
    <canvas id="grafica-mensual"></canvas>

</div>

<!-- ===================== ADMIN ====================== -->
<div id="admin" class="section" style="display:none;">

    <h2>Agregar movimiento</h2>

    Fecha:
    <input type="date" id="mov-fecha"><br>

    Tipo:
    <select id="mov-tipo">
        <option value="Ingreso">Ingreso</option>
        <option value="Gasto">Gasto</option>
    </select><br>

    <div id="bloque-ingreso">
        Tipo de ingreso:
        <select id="ingreso-tipo"></select>
        <input id="nuevo-ingreso" placeholder="Nuevo tipo">
        <button onclick="agregarNuevoIngreso()">+</button>
    </div>

    <div id="bloque-gasto">
        Categoría:
        <select id="gasto-cat"></select>
        <input id="nuevo-gasto" placeholder="Nueva categoría">
        <button onclick="agregarNuevaCategoria()">+</button>
    </div>

    Descripción:
    <input id="mov-desc"><br>

    Monto:
    <input type="number" id="mov-monto"><br>

    <button onclick="agregarMovimiento()">Agregar movimiento</button>

    <h2>Configuración (Kilometraje)</h2>

    Kilometraje inicial:
    <input type="number" id="km-inicial"><br>

    Kilometraje final:
    <input type="number" id="km-final"><br>

    Kilómetros recorridos:
    <input type="number" id="km-total" disabled><br>

    Precio por km:
    <input type="number" id="precio-km" disabled><br>

    Gasto total:
    <input type="number" id="gasto-total" disabled><br>

    <button onclick="calcularKilometraje()">Calcular</button>
    <button onclick="guardarConfig()">Guardar configuración</button>

    <h2>Exportar / Importar</h2>
    <button onclick="exportarJSON()">Exportar datos</button>
    <textarea id="json-area"></textarea><br>

    <button onclick="importarJSON()">Importar</button>

    <h2>Movimientos (todos)</h2>
    <table id="tabla-todos"></table>

</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="script.js"></script>

</body>
</html>
