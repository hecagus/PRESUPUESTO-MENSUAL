<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Admin â€“ Finanzas Repartidor</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body data-page="admin">
<header class="header">
  <div class="logo">Admin</div>
  <button class="menu-toggle" id="menuToggle">â˜°</button>
  <nav class="nav-menu" id="navMenu">
    <a href="index.html">Dashboard</a>
    <a href="admin.html" class="active">Admin</a>
    <a href="wallet.html">Wallet</a>
    <a href="historial.html">Historial</a>
  </nav>
</header>

<main class="container">

<section class="card">
  <h2>GestiÃ³n de Turno</h2>
  <div id="turnoEstado" class="estado off">ğŸ”´ Sin turno</div>
  <button id="btnTurno" class="btn success">Iniciar turno</button>

  <div id="turnoFinal" class="hidden">
    <input id="kmFinal" type="number" placeholder="Kilometraje final">
    <input id="gananciaTurno" type="number" placeholder="Â¿CuÃ¡nto ganaste? $">
    <button id="finalizarTurno" class="btn primary">Finalizar â­ï¸</button>
  </div>
</section>

<section class="card">
  <h2>Registrar Gasto Inteligente</h2>

  <select id="tipoGasto">
    <option value="hogar">ğŸ  Hogar</option>
    <option value="operativo">ğŸš´ Operativo</option>
  </select>

  <select id="categoriaGasto"></select>

  <input id="montoGasto" type="number" placeholder="Monto $">

  <label>
    <input type="checkbox" id="gastoRecurrente"> Gasto recurrente
  </label>

  <input type="date" id="fechaPago" class="hidden">

  <button id="registrarGasto" class="btn danger">Registrar gasto</button>
</section>

<section class="card">
  <h2>â›½ Carga de Gasolina</h2>
  <input id="kmGasolina" type="number" placeholder="Kilometraje al cargar">
  <input id="litros" type="number" placeholder="Litros cargados">
  <input id="costoGas" type="number" placeholder="Costo total $">
  <button id="guardarGasolina" class="btn primary">Guardar</button>
</section>

<section class="card">
  <h2>Detalle de Kilometraje</h2>
  <div id="kmActual">Kilometraje actual: --</div>
</section>

<section class="card">
  <h2>Mantenimiento</h2>
  <input id="umbralAceite" type="number" placeholder="Aceite (km)">
  <input id="umbralFrenos" type="number" placeholder="Frenos (km)">
  <button id="guardarUmbrales" class="btn success">Guardar umbrales</button>

  <div id="alertasMantenimiento"></div>
</section>

<section class="card">
  <h2>Deudas</h2>
  <input id="deudaNombre" placeholder="Nombre">
  <input id="deudaTotal" type="number" placeholder="Total $">
  <input id="deudaPago" type="number" placeholder="Pago periÃ³dico $">
  <input id="deudaFecha" type="date">
  <button id="registrarDeuda" class="btn danger">Registrar deuda</button>
</section>

<section class="card">
  <h2>Meta diaria</h2>
  <div id="metaDiaria">$0.00</div>
</section>

<section class="card">
  <h2>Respaldo y RestauraciÃ³n</h2>
  
  <p style="font-size:0.9rem; color:#64748b; margin-bottom:10px;">Guarda tus datos o restÃ¡uralos si cambias de dispositivo.</p>
  
  <button id="exportar" class="btn primary">â¬‡ï¸ Descargar Copia (JSON)</button>
  
  <hr style="margin: 20px 0; border: 0; border-top: 1px solid #e2e8f0;">
  
  <label style="font-weight:bold; margin-bottom:5px; display:block;">OpciÃ³n A: Subir Archivo</label>
  <input type="file" id="importar" accept=".json">
  
  <label style="font-weight:bold; margin-top:15px; margin-bottom:5px; display:block;">OpciÃ³n B: Pegar Texto JSON</label>
  <textarea id="jsonPaste" rows="5" placeholder='Pega aquÃ­ el cÃ³digo que empieza con {"turno":...}' style="width:100%; border:1px solid #cbd5e1; border-radius:6px; padding:10px; font-family:monospace; font-size:0.8rem;"></textarea>
  <button id="btnImportarTexto" class="btn success">â¬†ï¸ Importar desde Texto</button>
</section>

<canvas id="chartGastos"></canvas>

</main>

<script type="module" src="./js/05_init.js"></script>

</body>
</html>


