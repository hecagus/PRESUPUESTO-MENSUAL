<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administración – Uber Eats Tracker</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/xlsx/dist/xlsx.full.min.js"></script>
</head>

<body>

<header class="header">
    <h1>Panel Administrativo</h1>
    <a href="index.html" class="btn-admin" id="adminButton">⬅ Volver al Panel</a>
</header>

<main class="container">

    <section class="card">
        <h2>Registrar Ingreso</h2>
        <label>Descripción:</label>
        <input type="text" id="ingresoDescripcion" placeholder="Ej. Propina extra">
        <label>Monto:</label>
        <input type="number" id="ingresoCantidad" placeholder="0.00">
        <button id="btnGuardarIngreso" class="btn-primary">Guardar Ingreso</button>
    </section>

    <section class="card">
        <h2>Registrar Gasto</h2>
        <label>Descripción:</label>
        <input type="text" id="gastoDescripcion" placeholder="Ej. Agua, Comida...">
        <label>Monto:</label>
        <input type="number" id="gastoCantidad" placeholder="0.00">
        <label>Categoría:</label>
        <select id="gastoCategoria">
            <option value="Comida">Comida</option>
            <option value="Transporte">Transporte</option>
            <option value="Mantenimiento">Mantenimiento</option>
            <option value="Abono a Deuda">Abono a Deuda</option>
            <option value="Otros">Otros</option>
        </select>
        <button id="btnGuardarGasto" class="btn-warning">Guardar Gasto</button>
    </section>

    <section class="card" id="cardTurnos">
        <h2>Turnos de Trabajo</h2>
        <p id="turnoTexto" class="turno-texto" style="font-weight:bold; margin-bottom:10px;"></p>
        <button id="btnIniciarTurno" class="btn-success">Iniciar Turno</button>
        <button id="btnFinalizarTurno" class="btn-danger" style="display:none;">Finalizar Turno</button>
    </section>

    <section class="card">
        <h2>Gestión de Deudas</h2>
        
        <div id="wizardDeudaContainer" style="background:#f8f9fa; padding:15px; border-radius:8px; border:1px solid #eee;">
            <h3>Nueva Deuda</h3>
            
            <div id="wizStep1">
                <label>1. Nombre de la deuda (Ej. Banco):</label>
                <input type="text" id="wizNombre" placeholder="Nombre del acreedor">
                <button id="btnWizNext1" class="btn-primary">Siguiente ➡</button>
            </div>

            <div id="wizStep2" style="display:none;">
                <label>2. Monto Total a pagar ($):</label>
                <input type="number" id="wizMonto" placeholder="0.00">
                <div style="display:flex; gap:10px;">
                    <button id="btnWizBack2" class="btn-secondary">⬅ Atrás</button>
                    <button id="btnWizNext2" class="btn-primary">Siguiente ➡</button>
                </div>
            </div>

            <div id="wizStep3" style="display:none;">
                <label>3. ¿Cada cuánto tiempo abonas?</label>
                <select id="wizFrecuencia">
                    <option value="semanal">Semanal</option>
                    <option value="quincenal">Quincenal</option>
                    <option value="mensual">Mensual</option>
                </select>
                <div style="display:flex; gap:10px;">
                    <button id="btnWizBack3" class="btn-secondary">⬅ Atrás</button>
                    <button id="btnWizNext3" class="btn-primary">Siguiente ➡</button>
                </div>
            </div>

            <div id="wizStep4" style="display:none;">
                <label>4. ¿De cuánto es tu abono habitual?</label>
                <input type="number" id="wizAbonoSugerido" placeholder="Ej. 500">
                <div style="display:flex; gap:10px;">
                    <button id="btnWizBack4" class="btn-secondary">⬅ Atrás</button>
                    <button id="btnRegistrarDeudaFinal" class="btn-success">✅ Registrar Deuda</button>
                </div>
            </div>
        </div>

        <hr style="margin: 20px 0; border: 0; border-top: 1px solid #eee;">

        <h3>Registrar Abono</h3>
        <select id="abonoSeleccionar"></select>
        <input type="number" id="abonoMonto" placeholder="Cantidad a abonar">
        <button id="btnRegistrarAbono" class="btn-primary">Registrar Abono</button>

        <ul id="listaDeudas" class="list"></ul>
    </section>

    <section class="card">
        <h2>Kilometraje</h2>
        <label>KM Inicial:</label>
        <input type="number" id="kmInicial">
        <label>KM Final:</label>
        <input type="number" id="kmFinal">
        <p>Recorrido: <strong id="kmRecorridos">0</strong> km</p>
        <button id="btnGuardarKm" class="btn-primary">Guardar KM</button>
    </section>

    <section class="card">
        <h2>Gasolina</h2>
        <label>Litros:</label>
        <input type="number" id="litrosGas">
        <label>Costo total ($):</label>
        <input type="number" id="costoGas">
        <button id="btnGuardarGas" class="btn-primary">Guardar Carga</button>
    </section>

    <section class="card">
        <h2>Parámetros Automáticos</h2>
        <label>Deuda Total:</label>
        <input type="text" id="proyDeudaTotal" readonly style="background:#eee;">
        <label>Gasto Fijo Diario (Estimado):</label>
        <input type="text" id="proyGastoFijo" readonly style="background:#eee;">
    </section>

    <section class="card">
        <h2>Datos y Respaldo</h2>
        <button id="btnExportarExcel" class="btn-success">Descargar Excel (.xlsx)</button>
        <button id="btnExportar" class="btn-secondary">Copiar JSON</button>
        
        <div style="margin-top:15px; border-top:1px solid #eee; padding-top:10px;">
            <textarea id="importJson" rows="3" placeholder="Pega aquí el JSON para restaurar..."></textarea>
            <button id="btnImportar" class="btn-danger">Restaurar Datos</button>
        </div>
    </section>

</main>

<div id="tutorialOverlay"></div>
<div id="tutorialModal" class="modal-center">
    <h3 id="tutorialTitle">Tutorial</h3>
    <p id="tutorialText">Texto del tutorial...</p>
    <button id="tutorialNextBtn">Siguiente</button>
</div>

<script src="app.js"></script>

</body>
</html>
