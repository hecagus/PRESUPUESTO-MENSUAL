<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Panel de Administraci√≥n</title>
<link rel="stylesheet" href="assets/css/style.css">
</head>
<body>

<div class="container">

    <button class="back-btn" onclick="location.href='index.html'">‚üµ Ir al Resumen</button>

    <h2>Panel de Administraci√≥n</h2>

    <!-- Gesti√≥n de Deudas -->
    <div class="card">
        <h3>üí≥ Gesti√≥n de Deudas</h3>
        <table id="tabla-deudas" class="tabla-listado">
            <thead><tr><th>Nombre</th><th>Monto Actual</th><th>Acci√≥n</th></tr></thead>
            <tbody></tbody>
        </table>
        <button onclick="mostrarFormularioDeuda()">Agregar / Abonar Deuda</button>
    </div>

    <!-- Modal Deudas -->
    <div id="deuda-modal" class="modal">
        <div class="modal-content card">
            <span class="close-button" onclick="cerrarFormularioDeuda()">&times;</span>

            <h4>Registrar Nueva Deuda</h4>
            <label>Nombre:</label>
            <input type="text" id="deuda-nombre" placeholder="Ej. Cr√©dito Moto">
            <label>Monto Inicial:</label>
            <input type="number" id="deuda-monto-inicial">
            <button onclick="registrarNuevaDeuda()">Registrar Deuda</button>

            <h4>Abonar a Deuda Existente</h4>
            <label>Seleccionar Deuda:</label>
            <select id="deuda-select-abono"></select>
            <label>Monto del Abono:</label>
            <input type="number" id="deuda-monto-abono">
            <button onclick="abonarADeuda()">Realizar Abono</button>
        </div>
    </div>

    <!-- Movimientos -->
    <div class="card">
        <h3>‚ûï Agregar Movimiento (Ingreso/Gasto)</h3>

        <label>Fecha:</label>
        <input type="date" id="fecha-admin">

        <label>Tipo:</label>
        <select id="tipo-admin">
            <option value="Ingreso">Ingreso</option>
            <option value="Gasto">Gasto</option>
        </select>

        <label>Categor√≠a:</label>
        <select id="categoria-admin"></select>

        <label>Agregar nueva categor√≠a:</label>
        <input type="text" id="nuevaCategoria-admin" placeholder="Ej. Gasolina extra">
        <button onclick="agregarCategoria('admin')">Agregar categor√≠a</button>

        <label>Descripci√≥n:</label>
        <input type="text" id="mov-desc-admin" placeholder="Descripci√≥n opcional">

        <label>Monto:</label>
        <input type="number" id="monto-admin" placeholder="0.00">

        <button onclick="agregarMovimiento('admin')">Guardar Movimiento</button>
    </div>

    <!-- Kilometraje Diario -->
    <div class="card">
        <h3>üöó Registro de Kilometraje Diario</h3>

        <label>Kilometraje Inicial:</label>
        <input type="number" id="kmDiarioInicial">

        <label>Kilometraje Final:</label>
        <input type="number" id="kmDiarioFinal">

        <button onclick="registrarKmDiario()">Guardar Kilometraje</button>

        <p>Km recorridos hoy: <strong id="kmDiarioResultado">0</strong></p>
    </div>

    <!-- Registro de Gasolina -->
    <div class="card">
        <h3>‚õΩ Registro de Gasolina</h3>

        <label>Litros repostados:</label>
        <input type="number" id="gas-litros">

        <label>Costo por Litro:</label>
        <input type="number" id="gas-precio-litro">

        <label>Total Pagado:</label>
        <input type="number" id="gas-total" disabled>

        <label>Kilometraje Inicial:</label>
        <input type="number" id="gas-kmInicial">

        <label>Kilometraje Final:</label>
        <input type="number" id="gas-kmFinal">

        <p>Km recorridos: <strong id="gas-kmRecorridos">0</strong></p>
        <p>Precio por km: <strong id="gas-precioKm">0.00</strong></p>

        <button onclick="registrarGasolina()">Guardar Repostaje</button>
    </div>

    <!-- Exportaci√≥n / Importaci√≥n -->
    <div class="card">
        <h3>Exportar / Importar Datos</h3>
        <button onclick="exportarJSON()">Exportar</button>
        <textarea id="json-area"></textarea><br>
        <button onclick="importarJSON()">Importar</button>
    </div>

    <!-- Tabla Movimientos -->
    <div class="card">
        <h3>Movimientos Registrados</h3>
        <table id="tabla-todos" class="tabla-listado"></table>
    </div>

</div>

<script src="assets/js/app.js"></script>
<script>
window.onload = function() {
    onloadApp('admin');
};
</script>

</body>
</html>
